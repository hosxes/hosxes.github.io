<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>B.Y邀请函生成器</title>
  <!-- Google 开源字体 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans SC', sans-serif;
      text-align: center;
      margin: 20px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input, select {
      padding: 8px;
      font-size: 16px;
      margin-bottom: 10px;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }
    #result {
      margin-top: 30px;
    }
    canvas {
      border: 1px solid #ccc;
      max-width: 100%;
    }
  </style>
</head>
<body>
  <h2>B.Y预约邀请函生成器</h2>

  <label>姓名：</label>
  <input type="text" id="name" placeholder="请输入姓名">

  <label>性别：</label>
  <select id="gender">
    <option value="女士">女士</option>
    <option value="先生">先生</option>
  </select>

  <label>体验课内容：</label>
  <select id="course">
    <option value="一对一 (燃脂私教课一节)" selected>一对一 (燃脂私教课一节)</option>
    <option value="一对一 (基础拳击体验课一节)">一对一 (基础拳击体验课一节)</option>
    <option value="一对一 (力量训练体验课一节)">一对一 (力量训练体验课一节)</option>
  </select>

  <label>预约时间：</label>
  <input type="datetime-local" id="date">

  <label>联系电话：</label>
  <input type="text" id="phone" value="18268726040">

  <label>预约教练：</label>
  <input type="text" id="coach" value="郑博霞">

  <br>
  <button onclick="generate()">生成邀请函</button>

  <div id="result">
    <canvas id="canvas" width="800" height="1200"></canvas>
  </div>

  <script>
    function generate() {
      const name = document.getElementById('name').value.trim();
      const gender = document.getElementById('gender').value;
      const course = document.getElementById('course').value;
      const dateInput = document.getElementById('date').value;
      const phone = document.getElementById('phone').value.trim();
      const coach = document.getElementById('coach').value.trim();

      if (!name || !dateInput) {
        alert("请填写姓名和时间！");
        return;
      }

      const date = new Date(dateInput);
      const dateStr = date.toLocaleString('zh-CN', {
        year: 'numeric', month: '2-digit', day: '2-digit',
        hour: '2-digit', minute: '2-digit', hour12: false
      });

      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');

      const img = new Image();
      img.src = "template.png"; // 你的模板文件名
      img.onload = function() {
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

        ctx.font = "24px 'Noto Sans SC', sans-serif";
        ctx.fillStyle = "#333";
        ctx.textAlign = "center";

        const lines = [
          `${name} ${gender}`,
          `感谢您的咨询，您已经成功预约:`
        ];

        // 空白区域大概在 Y=450 到 850 之间
        const lineHeight = 60;
        const startY = 440;
        const centerX = canvas.width / 2;

        lines.forEach((line, i) => {
          const y = startY + i * lineHeight;
          ctx.fillText(line, centerX, y);
        });

        const lines2 = [
          `[FIT 训练课 ] ${course}`,
          `[预 约 时 间] ${dateStr}`,
          `[联 系 电 话] ${phone}`,
          `[预 约 教 练] ${coach} 教练`,
          `[场 馆 地 址] 江海商务广场C座13楼`
        ];
        
        // 空白区域大概在 Y=450 到 850 之间
        const lineHeight2 = 32;
        const startY2 = 600;
        const centerX2 = canvas.width / 2 - 200;
        ctx.textAlign = "left";
        lines2.forEach((line, i) => {
          const y = startY2 + i * lineHeight2;
          ctx.fillText(line, centerX2, y);
        });
      };
    }
  </script>
</body>
</html>
